package collatz

import (
    "context"
)

workflow basicCollatzFunction() SimpleCollatz[int] {
    prerequisite {
        branch := checkNext()
        even := half()
        odd1 := triple()
        odd2 := inc()
    }

    nodes:
        branch, even, odd1, odd2

    branches:
        branch -"even"-> even
        branch -"odd"-> odd1

    success:
        even --> end
        odd1 --> odd2 --> end
}

// Check multiple workflow definition

// Skip generates keyword
workflow shortcutCollatzFunction() ShortcutCollatz[int] {
    prerequisite {
        // check multiple variable assignment in single line
        branch, even := checkNext(), half()
        odd1, odd2 := triple(), inc()
    }

    // Check nodes with multiple lines
    nodes:
        branch,
        even,
        odd1, odd2

    success:
        even --> end

    // Check branch with backtick based string
    branches:
        branch -`even`-> even
        branch -`odd`-> odd1

    // Check multiple success labels
    success:
        odd1 --> odd2 --> even
}